---
phase: 04-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/components/ErrorFallback.tsx
  - src/App.tsx
autonomous: true

must_haves:
  truths:
    - "Unhandled errors display user-friendly fallback UI"
    - "Error boundary provides retry functionality"
    - "App does not crash completely on component errors"
  artifacts:
    - path: "src/components/ErrorFallback.tsx"
      provides: "Error fallback UI with error message and retry button"
      exports: ["ErrorFallback"]
    - path: "src/App.tsx"
      provides: "Root ErrorBoundary wrapper"
      contains: "ErrorBoundary"
  key_links:
    - from: "src/App.tsx"
      to: "react-error-boundary"
      via: "import and ErrorBoundary wrapper"
      pattern: "import.*ErrorBoundary.*from 'react-error-boundary'"
---

<objective>
Add error boundary infrastructure for graceful error handling.

Purpose: Prevent app crashes from displaying white screen; show user-friendly error UI with recovery option.
Output: ErrorFallback component and ErrorBoundary wrapper in App.tsx.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-polish/04-RESEARCH.md

@src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install react-error-boundary</name>
  <files>
    package.json
  </files>
  <action>
Install react-error-boundary package:

```bash
npm install react-error-boundary
```

This is the de-facto standard for React 18+ error boundaries with hooks support.
Version should be ^6.1.0 or latest.
  </action>
  <verify>
    - package.json contains react-error-boundary
    - npm ls react-error-boundary shows installed version
  </verify>
  <done>
    react-error-boundary package installed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ErrorFallback and Wire to App</name>
  <files>
    src/components/ErrorFallback.tsx
    src/App.tsx
  </files>
  <action>
**ErrorFallback.tsx:**
Create error fallback component following research patterns:

```tsx
import type { FallbackProps } from 'react-error-boundary'

export function ErrorFallback({ error, resetErrorBoundary }: FallbackProps) {
  return (
    <div className="min-h-screen bg-[#0f0f0f] flex items-center justify-center p-4">
      <div className="text-center max-w-md">
        <svg className="w-16 h-16 mx-auto text-red-500 mb-4" ...error icon.../>
        <h2 className="text-xl font-bold text-[#f1f1f1] mb-2">Something went wrong</h2>
        <p className="text-[#aaaaaa] mb-4">{error.message}</p>
        <button
          onClick={resetErrorBoundary}
          className="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors"
        >
          Try again
        </button>
      </div>
    </div>
  )
}
```

**App.tsx updates:**
1. Import ErrorBoundary from 'react-error-boundary'
2. Import ErrorFallback from './components/ErrorFallback'
3. Wrap BrowserRouter with ErrorBoundary:

```tsx
import { ErrorBoundary } from 'react-error-boundary'
import { ErrorFallback } from './components/ErrorFallback'

export function App() {
  // ... existing state ...

  return (
    <ErrorBoundary FallbackComponent={ErrorFallback}>
      <BrowserRouter>
        {/* existing content */}
      </BrowserRouter>
    </ErrorBoundary>
  )
}
```

Use a warning icon SVG (exclamation triangle) for the error state.
Match existing dark theme colors (#0f0f0f background, #f1f1f1 text).
  </action>
  <verify>
    - npm run build passes
    - ErrorFallback component exists and exports correctly
    - App.tsx imports and uses ErrorBoundary wrapper
  </verify>
  <done>
    ErrorFallback component created and ErrorBoundary wraps App content.
  </done>
</task>

</tasks>

<verification>
- react-error-boundary is in package.json dependencies
- ErrorFallback.tsx exists with FallbackProps interface
- App.tsx has ErrorBoundary wrapping BrowserRouter
- npm run build passes with no errors
</verification>

<success_criteria>
- [ ] react-error-boundary installed
- [ ] ErrorFallback displays error message and retry button
- [ ] ErrorBoundary wraps app content in App.tsx
- [ ] Error UI matches dark theme (#0f0f0f, red accent)
- [ ] npm run build passes
</success_criteria>

<output>
After completion, create `.planning/phases/04-polish/04-02-SUMMARY.md`
</output>

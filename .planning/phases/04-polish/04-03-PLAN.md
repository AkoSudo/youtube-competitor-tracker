---
phase: 04-polish
plan: 03
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/pages/ChannelsPage.tsx
  - src/pages/ChannelDetailPage.tsx
  - src/pages/IdeasPage.tsx
  - src/components/ChannelGrid.tsx
  - src/components/VideoGrid.tsx
autonomous: true

must_haves:
  truths:
    - "Loading state shows skeleton grid, not spinner"
    - "Empty states use consistent EmptyState component"
    - "No layout shift (CLS) when content loads"
  artifacts:
    - path: "src/pages/ChannelsPage.tsx"
      provides: "Uses ChannelCardSkeleton grid during loading"
      contains: "ChannelCardSkeleton"
    - path: "src/pages/ChannelDetailPage.tsx"
      provides: "Uses VideoCardSkeleton grid during loading"
      contains: "VideoCardSkeleton"
    - path: "src/pages/IdeasPage.tsx"
      provides: "Uses IdeaCardSkeleton list during loading"
      contains: "IdeaCardSkeleton"
    - path: "src/components/ChannelGrid.tsx"
      provides: "Uses EmptyState for no channels"
      contains: "EmptyState"
  key_links:
    - from: "src/pages/ChannelsPage.tsx"
      to: "src/components/skeletons/ChannelCardSkeleton.tsx"
      via: "import and render during isLoading"
      pattern: "import.*ChannelCardSkeleton"
    - from: "src/components/ChannelGrid.tsx"
      to: "src/components/EmptyState.tsx"
      via: "import and render when empty"
      pattern: "import.*EmptyState"
---

<objective>
Integrate skeleton loaders and EmptyState component into all pages.

Purpose: Replace spinner loading states with skeleton grids; standardize empty states.
Output: Polished loading and empty experiences across all three pages.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-polish/04-01-SUMMARY.md

@src/pages/ChannelsPage.tsx
@src/pages/ChannelDetailPage.tsx
@src/pages/IdeasPage.tsx
@src/components/ChannelGrid.tsx
@src/components/VideoGrid.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update ChannelsPage with Skeleton Grid</name>
  <files>
    src/pages/ChannelsPage.tsx
    src/components/ChannelGrid.tsx
  </files>
  <action>
**ChannelsPage.tsx:**
Replace the spinner loading state (lines 46-54) with a skeleton grid:

1. Import ChannelCardSkeleton from '../components/skeletons/ChannelCardSkeleton'
2. Replace the loading spinner div with:
```tsx
{isLoading && (
  <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
    {Array.from({ length: 8 }).map((_, i) => (
      <ChannelCardSkeleton key={i} />
    ))}
  </div>
)}
```

The grid classes match ChannelGrid for zero layout shift.

**ChannelGrid.tsx:**
Replace inline empty state (lines 14-35) with EmptyState component:

1. Import EmptyState from './EmptyState'
2. Replace the empty state JSX with:
```tsx
<EmptyState
  icon={<VideoIcon />}  // Use same video camera SVG
  title="No channels yet"
  description="Add a YouTube channel URL to start tracking competitors."
/>
```

Extract the video camera SVG to a local component or inline it in the icon prop.
  </action>
  <verify>
    - ChannelsPage shows skeleton grid during loading
    - ChannelGrid uses EmptyState component
    - Grid dimensions match between skeleton and real content
    - npm run build passes
  </verify>
  <done>
    ChannelsPage shows skeleton grid during loading; ChannelGrid uses EmptyState.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update ChannelDetailPage with Video Skeletons</name>
  <files>
    src/pages/ChannelDetailPage.tsx
    src/components/VideoGrid.tsx
  </files>
  <action>
**ChannelDetailPage.tsx:**
Replace inline skeleton (lines 196-208) with VideoCardSkeleton:

1. Import VideoCardSkeleton from '../components/skeletons/VideoCardSkeleton'
2. Replace the inline skeleton divs with:
```tsx
{isLoading && videos.length === 0 ? (
  <div className="grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-6">
    {Array.from({ length: 6 }).map((_, i) => (
      <VideoCardSkeleton key={i} />
    ))}
  </div>
) : (
  <VideoGrid ... />
)}
```

**VideoGrid.tsx:**
Check if VideoGrid has an empty state. If not or if inline, update to use EmptyState:

1. Import EmptyState from './EmptyState'
2. If emptyMessage prop exists, wrap in EmptyState component with appropriate icon
3. Use a play/video icon for the empty state
  </action>
  <verify>
    - ChannelDetailPage shows VideoCardSkeleton grid during loading
    - Skeleton grid matches same CSS grid as real VideoGrid
    - npm run build passes
  </verify>
  <done>
    ChannelDetailPage uses VideoCardSkeleton components during loading.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update IdeasPage with Skeleton List</name>
  <files>
    src/pages/IdeasPage.tsx
  </files>
  <action>
**IdeasPage.tsx:**
Replace inline skeleton (lines 188-204) with IdeaCardSkeleton:

1. Import IdeaCardSkeleton from '../components/skeletons/IdeaCardSkeleton'
2. Replace the loading state with:
```tsx
{isLoading && (
  <div className="space-y-4">
    {Array.from({ length: 4 }).map((_, i) => (
      <IdeaCardSkeleton key={i} />
    ))}
  </div>
)}
```

**Empty states (lines 210-259):**
The existing empty states are well-designed. Consider whether to replace with EmptyState component:
- "No ideas saved yet" (lines 210-229) - can use EmptyState
- "No ideas match your filters" (lines 230-259) - can use EmptyState with clear filters action

Update both to use EmptyState component:
1. Import EmptyState from '../components/EmptyState'
2. Replace "No ideas saved yet" with:
```tsx
<EmptyState
  icon={<LightbulbIcon />}
  title="No ideas saved yet"
  description="Browse channel videos and save ideas you like."
/>
```
3. Replace "No ideas match your filters" with:
```tsx
<EmptyState
  icon={<SearchIcon />}
  title="No ideas match your filters"
  description="Try adjusting your search or filters."
  action={{
    label: "Clear filters",
    onClick: () => {
      setSearchQuery('')
      setChannelFilter('')
      setMyIdeasOnly(false)
    }
  }}
/>
```
  </action>
  <verify>
    - IdeasPage shows IdeaCardSkeleton list during loading
    - Empty states use EmptyState component
    - Clear filters action works correctly
    - npm run build passes
  </verify>
  <done>
    IdeasPage uses IdeaCardSkeleton components and EmptyState for empty states.
  </done>
</task>

</tasks>

<verification>
- All three pages use skeleton components during loading
- Empty states use consistent EmptyState component
- Grid/list dimensions match between skeleton and content (no CLS)
- npm run build passes with no errors
- Dev server shows skeleton loading states when data is loading
</verification>

<success_criteria>
- [ ] ChannelsPage shows ChannelCardSkeleton grid (8 items) during loading
- [ ] ChannelDetailPage shows VideoCardSkeleton grid (6 items) during loading
- [ ] IdeasPage shows IdeaCardSkeleton list (4 items) during loading
- [ ] ChannelGrid uses EmptyState component
- [ ] IdeasPage empty states use EmptyState component
- [ ] No layout shift when content replaces skeletons
- [ ] npm run build passes
</success_criteria>

<output>
After completion, create `.planning/phases/04-polish/04-03-SUMMARY.md`
</output>

---
phase: 05-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/AnalyticsPage.tsx
  - src/components/skeletons/AnalyticsPageSkeleton.tsx
  - src/components/Nav.tsx
  - src/App.tsx
autonomous: true

must_haves:
  truths:
    - "User can click Analytics link in navigation and arrive at /analytics route"
    - "Analytics page displays loading skeleton while fetching channel data"
    - "Analytics page shows helpful empty state when user has no tracked channels"
    - "Analytics page matches existing dark theme (#0f0f0f background, #272727 cards)"
  artifacts:
    - path: "src/pages/AnalyticsPage.tsx"
      provides: "Analytics page component with loading, empty, and content states"
      min_lines: 50
    - path: "src/components/skeletons/AnalyticsPageSkeleton.tsx"
      provides: "Loading skeleton matching future analytics content shape"
      min_lines: 15
    - path: "src/components/Nav.tsx"
      provides: "Analytics NavLink after Ideas"
      contains: "/analytics"
    - path: "src/App.tsx"
      provides: "Route for /analytics path"
      contains: "AnalyticsPage"
  key_links:
    - from: "src/components/Nav.tsx"
      to: "/analytics"
      via: "NavLink to attribute"
      pattern: 'to="/analytics"'
    - from: "src/App.tsx"
      to: "src/pages/AnalyticsPage.tsx"
      via: "Route element"
      pattern: 'path="/analytics".*AnalyticsPage'
    - from: "src/pages/AnalyticsPage.tsx"
      to: "src/hooks/useChannels.ts"
      via: "hook import"
      pattern: "useChannels"
---

<objective>
Create the Analytics page foundation with navigation, routing, loading skeleton, and empty state.

Purpose: Establishes the entry point for all analytics features in v1.1. Users can navigate to /analytics and receive appropriate feedback while data loads or when no channels are tracked.

Output: Working /analytics route with loading skeleton, empty state, and placeholder content for future phases.
</objective>

<execution_context>
@/Users/thihaaung/.claude/get-shit-done/workflows/execute-plan.md
@/Users/thihaaung/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-foundation/05-RESEARCH.md

# Existing patterns to follow
@src/components/Nav.tsx
@src/components/EmptyState.tsx
@src/components/skeletons/ChannelCardSkeleton.tsx
@src/pages/IdeasPage.tsx
@src/App.tsx
@src/hooks/useChannels.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AnalyticsPageSkeleton component</name>
  <files>src/components/skeletons/AnalyticsPageSkeleton.tsx</files>
  <action>
Create skeleton component matching future analytics content shape. Follow existing skeleton patterns from ChannelCardSkeleton.tsx:

1. Export function AnalyticsPageSkeleton
2. Use bg-[#272727] for skeleton blocks, bg-[#3f3f3f] for inner elements
3. Use motion-safe:animate-pulse for all animated elements
4. Structure should hint at future content:
   - Section header placeholder (h-6 w-48)
   - Grid of 3 card placeholders (responsive: 1 col mobile, 2 tablet, 3 desktop)
   - Each card: rounded-xl, p-4, h-32
   - Chart area placeholder (h-64)
5. Use space-y-6 for vertical rhythm between sections
6. Add JSDoc comment explaining the component purpose
  </action>
  <verify>
File exists at src/components/skeletons/AnalyticsPageSkeleton.tsx with exported function. TypeScript compiles without errors: `npm run build 2>&1 | head -20`
  </verify>
  <done>
AnalyticsPageSkeleton component exists with correct skeleton structure matching existing patterns.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create AnalyticsPage component</name>
  <files>src/pages/AnalyticsPage.tsx</files>
  <action>
Create the main Analytics page following existing page patterns from IdeasPage.tsx and ChannelsPage.tsx:

1. Import dependencies:
   - useChannels from '../hooks/useChannels'
   - useNavigate from 'react-router'
   - EmptyState from '../components/EmptyState'
   - AnalyticsPageSkeleton from '../components/skeletons/AnalyticsPageSkeleton'

2. Create BarChartIcon inline function for empty state (SVG with bar chart design):
   ```
   <svg className="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24">
     <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5}
       d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
   </svg>
   ```

3. Export function AnalyticsPage with:
   - const { channels, isLoading, error } = useChannels()
   - const navigate = useNavigate()

4. Implement early return states (order matters - check loading first):

   a) LOADING STATE: if (isLoading)
      - Container: max-w-7xl mx-auto p-4
      - Header skeleton: div.mb-6 > div.h-8.w-32.bg-[#272727].rounded.motion-safe:animate-pulse
      - Render <AnalyticsPageSkeleton />

   b) ERROR STATE: if (error)
      - Container: max-w-7xl mx-auto p-4
      - h1 "Analytics" with text-2xl font-bold mb-6
      - Error box: p-4 bg-red-900/20 border border-red-600 rounded-lg text-red-400
      - Show error message and refresh button

   c) EMPTY STATE: if (channels.length === 0)
      - Container: max-w-7xl mx-auto p-4
      - h1 "Analytics" with text-2xl font-bold mb-6
      - EmptyState with:
        - icon={<BarChartIcon />}
        - title="No channels to analyze"
        - description="Add some YouTube channels to start seeing analytics."
        - action={{ label: "Add a channel", onClick: () => navigate('/') }}

5. CONTENT STATE (default return):
   - Container: max-w-7xl mx-auto p-4
   - h1 "Analytics" with text-2xl font-bold mb-6
   - Placeholder card: bg-[#272727] rounded-xl p-6 text-center text-[#aaaaaa]
   - Message: "Analytics dashboard coming soon."
   - Subtext: "Tracking {channels.length} channel(s)"

6. Add JSDoc comment explaining the page purpose

CRITICAL: Use exact color values from existing codebase:
- Background: bg-[#0f0f0f] (inherited from App)
- Cards: bg-[#272727]
- Borders: border-[#3f3f3f]
- Primary text: text-[#f1f1f1] (inherited)
- Secondary text: text-[#aaaaaa]
  </action>
  <verify>
File exists at src/pages/AnalyticsPage.tsx with exported function. TypeScript compiles: `npm run build 2>&1 | head -20`
  </verify>
  <done>
AnalyticsPage component exists with loading, error, empty, and content states following existing patterns.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add navigation link and route</name>
  <files>src/components/Nav.tsx, src/App.tsx</files>
  <action>
Wire up the Analytics page to navigation and routing:

1. In src/components/Nav.tsx:
   - Add NavLink for Analytics AFTER the Ideas NavLink (inside the flex container with gap-1)
   - Use exact same className pattern as existing NavLinks:
     ```tsx
     <NavLink
       to="/analytics"
       className={({ isActive }) =>
         `px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
           isActive
             ? 'bg-[#3f3f3f] text-white'
             : 'text-[#aaaaaa] hover:bg-[#3f3f3f] hover:text-white'
         }`
       }
     >
       Analytics
     </NavLink>
     ```
   - Navigation order should be: Channels -> Ideas -> Analytics

2. In src/App.tsx:
   - Add import: import { AnalyticsPage } from './pages/AnalyticsPage'
   - Add Route inside Routes after /ideas:
     ```tsx
     <Route path="/analytics" element={<AnalyticsPage />} />
     ```

CRITICAL: Both files must be updated together - NavLink without Route causes 404, Route without NavLink means unreachable page.
  </action>
  <verify>
1. Nav.tsx contains Analytics NavLink: `grep -n "analytics" src/components/Nav.tsx`
2. App.tsx imports AnalyticsPage and has route: `grep -n "Analytics" src/App.tsx`
3. Build succeeds: `npm run build 2>&1 | head -20`
4. Dev server test: Start dev server, navigate to /analytics, verify page renders
  </verify>
  <done>
Analytics link appears in navigation after Ideas, clicking navigates to /analytics route, page renders correctly.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Build passes: `npm run build`
2. Start dev server: `npm run dev`
3. Visual verification in browser:
   - Navigation shows "Channels | Ideas | Analytics"
   - Click Analytics - URL changes to /analytics
   - If channels exist: See placeholder "Analytics dashboard coming soon" with channel count
   - If no channels: See empty state with "No channels to analyze" and "Add a channel" action
   - Click "Add a channel" - navigates to home page
4. Loading state (harder to verify, but skeleton should flash briefly on refresh)
5. Colors match existing app (no visual inconsistency)
</verification>

<success_criteria>
- [ ] /analytics route exists and renders AnalyticsPage
- [ ] Analytics NavLink appears after Ideas in navigation
- [ ] Active state styling works (bg-[#3f3f3f] when on /analytics)
- [ ] Loading skeleton displays while useChannels fetches
- [ ] Empty state displays when channels.length === 0
- [ ] Empty state action navigates to home page
- [ ] Content placeholder displays when channels exist
- [ ] All colors match existing dark theme exactly
- [ ] Build passes with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-foundation/05-01-SUMMARY.md`
</output>
